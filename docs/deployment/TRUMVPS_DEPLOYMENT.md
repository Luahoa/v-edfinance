# âœ… TrumVPS Deployment - V-EdFinance
## Káº¿ Hoáº¡ch Triá»ƒn Khai Vá»›i TrumVPS Singapore

> **Quyáº¿t Ä‘á»‹nh:** TrumVPS Singapore 8GB - Tá»‘i Æ°u cho users Viá»‡t Nam

**NgÃ y:** 2025-12-20  
**VPS Provider:** TrumVPS  
**Location:** Singapore  
**Target:** 1000 users trong 3 thÃ¡ng Ä‘áº§u

---

## ğŸ¯ Táº¡i Sao TrumVPS?

### âœ… Æ¯u Äiá»ƒm Cho V-EdFinance

```
1. Latency Tháº¥p Nháº¥t
   â”œâ”€ Singapore â†’ Vietnam: 30-50ms
   â”œâ”€ Hetzner EU â†’ Vietnam: 200-300ms
   â””â”€ Nhanh hÆ¡n 4-6 láº§n! âš¡

2. Support Tiáº¿ng Viá»‡t
   â”œâ”€ Chat/call tiáº¿ng Viá»‡t
   â”œâ”€ Email support: Nhanh (thÆ°á»ng <2h)
   â”œâ”€ Ticket system: 24/7
   â””â”€ Hiá»ƒu vÄƒn hÃ³a & timezone VN

3. Thanh ToÃ¡n VND
   â”œâ”€ Chuyá»ƒn khoáº£n ngÃ¢n hÃ ng VN
   â”œâ”€ KhÃ´ng phÃ­ chuyá»ƒn Ä‘á»•i ngoáº¡i tá»‡
   â”œâ”€ Invoice tiáº¿ng Viá»‡t
   â””â”€ Dá»… káº¿ toÃ¡n cho startup VN

4. Data Residency
   â”œâ”€ Server gáº§n Viá»‡t Nam
   â”œâ”€ PhÃ¹ há»£p quy Ä‘á»‹nh vá» dá»¯ liá»‡u
   â””â”€ Dá»… comply vá»›i luáº­t VN náº¿u cáº§n

5. Proven Track Record
   â”œâ”€ TrumVPS hoáº¡t Ä‘á»™ng 5+ nÄƒm
   â”œâ”€ Nhiá»u startup VN Ä‘ang dÃ¹ng
   â””â”€ Reviews tÃ­ch cá»±c trÃªn FB groups
```

---

## ğŸ’° Chi PhÃ­ Cáº­p Nháº­t - TrumVPS

### VPS Package: Singapore 8GB

```
Cáº¥u hÃ¬nh:
â”œâ”€ RAM:     8 GB
â”œâ”€ vCPU:    4 vCore
â”œâ”€ Storage: 50 GB SSD NVMe
â”œâ”€ Bandwidth: 2 TB/month (Unlimited tá»‘c Ä‘á»™)
â”œâ”€ Location: Singapore (Equinix SG)
â”œâ”€ IP:      1 IPv4
â””â”€ Anti-DDoS: FREE (basic)

GiÃ¡:
â”œâ”€ ThÃ¡ng 1:      440,000 VND
â”œâ”€ 3 thÃ¡ng:      1,320,000 VND (khÃ´ng giáº£m giÃ¡)
â”œâ”€ 6 thÃ¡ng:      2,376,000 VND (giáº£m 10% = 396k VND/mo)
â””â”€ 12 thÃ¡ng:     4,752,000 VND (giáº£m 10% = 396k VND/mo)
```

### Chi PhÃ­ 3 ThÃ¡ng Äáº§u

```
Monthly Breakdown:

VPS TrumVPS 8GB:              440,000 VND/mo
Domain (.com via Tenten):      25,000 VND/mo (~300k/year)
Cloudflare R2 (estimated):     24,000 VND/mo
Cloudflare CDN/SSL/DDoS:            0 VND (FREE)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Subtotal/month:               489,000 VND/mo

3 Months Total:
â”œâ”€ VPS: 440k Ã— 3 =          1,320,000 VND
â”œâ”€ Domain:                     75,000 VND
â”œâ”€ R2:                         72,000 VND
â””â”€ Total:                   1,467,000 VND
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âš¡ Æ¯u Ä‘Ã£i náº¿u thanh toÃ¡n 3 thÃ¡ng trÆ°á»›c:
CÃ³ thá»ƒ xin giáº£m giÃ¡ ~5% â†’ 1,400,000 VND total
```

### So SÃ¡nh Vá»›i Hetzner

```
                TrumVPS        Hetzner       ChÃªnh lá»‡ch
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
3 thÃ¡ng         1,467,000 Ä‘    861,000 Ä‘    +606,000 Ä‘
Latency VN      30-50ms        200-300ms    -80%
Support         Tiáº¿ng Viá»‡t     English      Vietnamese
Payment         VND            EUR          VND better
Storage         50 GB          160 GB       -110 GB

Káº¿t luáº­n: Tráº£ thÃªm 600k cho 3 thÃ¡ng Ä‘á»ƒ cÃ³:
âœ… Latency 5Ã— tá»‘t hÆ¡n
âœ… Support tiáº¿ng Viá»‡t
âœ… Payment dá»… hÆ¡n
â†’ ÄÃNG GIÃ! ğŸ¯
```

---

## ğŸ—ï¸ Architecture - TrumVPS Singapore

### Single VPS Setup (Giá»‘ng nhÆ° plan trÆ°á»›c)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Cloudflare (FREE)                    â”‚
â”‚  DNS + CDN + SSL + DDoS Protection          â”‚
â”‚  Edge locations in Vietnam                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â”‚ ~20ms (VN users â†’ CF Edge)
                 â”‚
                 â”‚ ~10ms (CF Edge â†’ TrumVPS SG)
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      TrumVPS Singapore 8GB                   â”‚
â”‚      4 vCore | 8 GB RAM | 50 GB SSD          â”‚
â”‚      440,000 VND/mo                          â”‚
â”‚                                              â”‚
â”‚  Total Latency VNâ†’API: ~30-50ms âš¡          â”‚
â”‚  (So vá»›i Hetzner: 200-300ms)                â”‚
â”‚                                              â”‚
â”‚  [Same container setup as before]           â”‚
â”‚  - Dokploy Dashboard                         â”‚
â”‚  - Production (API + Web)                    â”‚
â”‚  - Staging (API + Web)                       â”‚
â”‚  - Development (API + Web)                   â”‚
â”‚  - PostgreSQL (3 databases)                  â”‚
â”‚  - Redis                                     â”‚
â”‚  - Uptime Kuma                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Resource Allocation: Identical to original plan
â”œâ”€ Production: 3 GB
â”œâ”€ Staging: 1.5 GB
â”œâ”€ Dev: 1 GB
â”œâ”€ Services: 2 GB
â””â”€ Total: 7.5 GB / 8 GB âœ…
```

---

## ğŸ“‹ Setup Steps - TrumVPS Specific

### BÆ°á»›c 1: Äáº·t Mua VPS (15 phÃºt)

```
1. Truy cáº­p: https://trumvps.com
2. ÄÄƒng kÃ½ tÃ i khoáº£n
3. Chá»n gÃ³i VPS:
   - Location: Singapore
   - Package: VPS SING 8GB
   - OS: Ubuntu 22.04 LTS
   - Hostname: v-edfinance-prod
   - Root password: <táº¡o password máº¡nh>

4. Thanh toÃ¡n:
   - Chá»n 3 thÃ¡ng
   - Chuyá»ƒn khoáº£n ngÃ¢n hÃ ng
   - Bank: Techcombank/VCB/VPBank
   - Ná»™i dung: <MÃ£ Ä‘Æ¡n hÃ ng tá»« TrumVPS>

5. Chá» kÃ­ch hoáº¡t:
   - ThÆ°á»ng 5-30 phÃºt
   - Nháº­n email thÃ´ng bÃ¡o
   - Note láº¡i: IP address, root password
```

### BÆ°á»›c 2: Cáº¥u HÃ¬nh Ban Äáº§u (30 phÃºt)

```bash
# SSH vÃ o VPS
ssh root@<your-vps-ip>

# Update system
apt update && apt upgrade -y

# Set timezone Vietnam
timedatectl set-timezone Asia/Ho_Chi_Minh

# Configure firewall (TrumVPS cÃ³ firewall riÃªng, nhÆ°ng setup UFW thÃªm)
ufw allow 22/tcp   # SSH
ufw allow 80/tcp   # HTTP
ufw allow 443/tcp  # HTTPS
ufw allow 3000/tcp # Dokploy dashboard
ufw enable

# Install essential tools
apt install -y curl wget git htop vim

# Create swap (TrumVPS thÆ°á»ng khÃ´ng cÃ³ swap máº·c Ä‘á»‹nh)
fallocate -l 2G /swapfile
chmod 600 /swapfile
mkswap /swapfile
swapon /swapfile
echo '/swapfile none swap sw 0 0' >> /etc/fstab

# Verify
free -h
# Should show 2GB swap âœ…
```

### BÆ°á»›c 3: Install Dokploy (15 phÃºt)

```bash
# Official Dokploy installation
curl -sSL https://dokploy.com/install.sh | sh

# Wait for installation (3-5 minutes)
# Output should show:
# âœ… Docker installed
# âœ… Dokploy installed
# âœ… Access at: http://<your-ip>:3000

# Verify Dokploy is running
docker ps
# Should see: dokploy container running

# Access dashboard
# Browser: http://<your-trumvps-ip>:3000
# Create admin account
# Save credentials securely!
```

### BÆ°á»›c 4: DNS Configuration (Cloudflare)

```dns
# Cloudflare DNS (same as before)
Type    Name              Value               Proxy   TTL
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
A       @                 <trumvps-ip>        âœ… ON   Auto
A       www               <trumvps-ip>        âœ… ON   Auto
A       api               <trumvps-ip>        âœ… ON   Auto
A       dokploy           <trumvps-ip>        âœ… ON   Auto
A       dev               <trumvps-ip>        âœ… ON   Auto
A       api-dev           <trumvps-ip>        âœ… ON   Auto
A       staging           <trumvps-ip>        âœ… ON   Auto
A       api-staging       <trumvps-ip>        âœ… ON   Auto
A       monitoring        <trumvps-ip>        ğŸ”¶ OFF  Auto
CNAME   cdn               @                   âœ… ON   Auto

# SSL/TLS mode: Full (strict)
# Always Use HTTPS: On
# Minimum TLS Version: 1.2

# Dokploy will auto-configure Let's Encrypt
```

### BÆ°á»›c 5-14: Deployment (Giá»‘ng NhÆ° Plan Gá»‘c)

**Timeline khÃ´ng Ä‘á»•i:**
- Week 1: Infrastructure + Production
- Week 2: Staging + Development
- Week 3-4: Optimization + Monitoring

**Chi tiáº¿t:** Xem file `DOKPLOY_STRATEGY.md` - táº¥t cáº£ bÆ°á»›c tá»« 5-14 giá»¯ nguyÃªn!

---

## âš¡ Performance Expectations - TrumVPS

### Latency Benchmarks

```
User Location â†’ API Response Time:

HÃ  Ná»™i:
â”œâ”€ TrumVPS SG: 30-40ms âš¡
â”œâ”€ Hetzner EU: 220-280ms
â””â”€ Improvement: 6Ã— faster

TP.HCM:
â”œâ”€ TrumVPS SG: 25-35ms âš¡
â”œâ”€ Hetzner EU: 200-260ms
â””â”€ Improvement: 7Ã— faster

ÄÃ  Náºµng:
â”œâ”€ TrumVPS SG: 28-38ms âš¡
â”œâ”€ Hetzner EU: 210-270ms
â””â”€ Improvement: 7Ã— faster

With Cloudflare CDN:
Static Assets (cached):
â”œâ”€ VN users: 10-20ms (CF edge in Vietnam)
â”œâ”€ Dynamic API: 30-50ms (TrumVPS SG)
â””â”€ Total page load: <200ms (EXCELLENT!)
```

### Load Testing Results (Expected)

```bash
# autocannon benchmark (expected results)
autocannon -c 100 -d 30 https://api.v-edfinance.com/api/health

Expected Results:
â”œâ”€ Requests/sec: 400-600 (good for 4 vCore)
â”œâ”€ Latency P50: 30-50ms
â”œâ”€ Latency P95: 80-120ms
â”œâ”€ Latency P99: 150-200ms
â””â”€ Error rate: <0.1%

Capacity:
â”œâ”€ 1000 concurrent users: âœ… Comfortable
â”œâ”€ 2000 concurrent users: âœ… Possible (with optimization)
â””â”€ >2000: Need to scale
```

---

## ğŸ”§ TrumVPS-Specific Optimizations

### 1. Network Optimization

```bash
# TrumVPS Singapore has good peering to VN
# But we can optimize further:

# Enable TCP BBR (better congestion control)
echo "net.core.default_qdisc=fq" >> /etc/sysctl.conf
echo "net.ipv4.tcp_congestion_control=bbr" >> /etc/sysctl.conf
sysctl -p

# Verify
sysctl net.ipv4.tcp_congestion_control
# Should show: bbr

# Result: 10-20% better throughput under load
```

### 2. Disk I/O Optimization

```bash
# TrumVPS uses NVMe SSD (very fast already)
# But we can optimize PostgreSQL:

# In Dokploy PostgreSQL container
docker exec -it <postgres-container> sh

# Edit postgresql.conf
shared_buffers = 2GB              # 25% of RAM
effective_cache_size = 6GB        # 75% of RAM
maintenance_work_mem = 512MB
checkpoint_completion_target = 0.9
wal_buffers = 16MB
default_statistics_target = 100
random_page_cost = 1.1           # NVMe SSD
effective_io_concurrency = 200   # NVMe SSD

# Restart PostgreSQL
docker restart <postgres-container>
```

### 3. Cloudflare + TrumVPS Integration

```yaml
# Cloudflare Settings for Vietnam Users

Speed â†’ Optimization:
  âœ… Auto Minify (JS, CSS, HTML)
  âœ… Brotli compression
  âœ… Early Hints
  âœ… HTTP/3 (QUIC)
  âœ… 0-RTT Connection Resumption

Caching:
  âœ… Cache Level: Standard
  âœ… Browser Cache TTL: Respect Existing Headers
  âœ… Development Mode: Off

Network:
  âœ… IPv6 Compatibility: On
  âœ… WebSockets: On
  âœ… HTTP/2: On
  âœ… HTTP/3 (with QUIC): On

Result: Vietnam users get <50ms for cached content!
```

---

## ğŸ“Š Monitoring - TrumVPS Dashboard + Uptime Kuma

### TrumVPS Built-in Monitoring

```
TrumVPS Control Panel provides:
â”œâ”€ CPU Usage (real-time)
â”œâ”€ RAM Usage (real-time)
â”œâ”€ Bandwidth Usage (daily/monthly)
â”œâ”€ Disk I/O
â””â”€ Network traffic

Access: https://manage.trumvps.com
Login with TrumVPS account
â†’ View VPS â†’ Monitoring
```

### Combined Monitoring Strategy

```yaml
1. TrumVPS Panel (Infrastructure level):
   - CPU/RAM/Disk alerts
   - Bandwidth quota monitoring
   - Hardware health

2. Uptime Kuma (Application level):
   - Endpoint availability
   - Response time tracking
   - SSL certificate monitoring
   - Custom alerts to Discord/Email

3. Cloudflare Analytics (User experience):
   - Real user monitoring
   - Cache hit ratio
   - Threats blocked
   - Geographic distribution

4. Dokploy Dashboard (Container level):
   - Per-app resource usage
   - Deployment history
   - Container logs
   - Health checks
```

---

## ğŸ’¡ TrumVPS Support Tips

### LiÃªn Há»‡ Support

```
Khi gáº·p váº¥n Ä‘á», liÃªn há»‡ TrumVPS qua:

1. Telegram: @trumvps_support (Fastest - 5-30min)
2. Email: support@trumvps.com (2-6 hours)
3. Ticket system: https://manage.trumvps.com (24h)
4. Facebook: fb.com/trumvps (public, slower)

Best Practice:
â”œâ”€ DÃ¹ng Telegram cho urgent issues
â”œâ”€ DÃ¹ng Email/Ticket cho non-urgent
â”œâ”€ Chuáº©n bá»‹ info: VPS ID, IP, mÃ´ táº£ chi tiáº¿t
â””â”€ Screenshot náº¿u cÃ³ lá»—i visual
```

### CÃ¢u Há»i ThÆ°á»ng Gáº·p

```
Q: Backup á»Ÿ Ä‘Ã¢u?
A: TrumVPS cÃ³ snapshot service (+20k VND/snapshot)
   Recommend: Tá»± backup to Cloudflare R2 (FREE 10GB)

Q: ThÃªm RAM/CPU Ä‘Æ°á»£c khÃ´ng?
A: Yes! Ticket upgrade, downtime ~2-5 minutes
   8GB â†’ 12GB: +110k VND/mo
   8GB â†’ 16GB: +220k VND/mo

Q: IP bá»‹ block Cloudflare?
A: Hiáº¿m, nhÆ°ng cÃ³ thá»ƒ request IP má»›i (FREE)

Q: Anti-DDoS cÃ³ Ä‘á»§ máº¡nh khÃ´ng?
A: TrumVPS + Cloudflare = 2 layers protection
   Good cho startup, Ä‘á»§ chá»‘ng attack thÃ´ng thÆ°á»ng

Q: Bandwidth vÆ°á»£t 2TB/mo thÃ¬ sao?
A: Tá»‘c Ä‘á»™ giáº£m xuá»‘ng 50Mbps (khÃ´ng charge thÃªm)
   Realistically: 1000 users ~500GB/mo â†’ OK!
```

---

## ğŸš€ Next Steps - HÃ nh Äá»™ng Ngay

### Checklist To-Do (Tuáº§n NÃ y)

```
â–¡ Day 1: Mua VPS TrumVPS
  â”œâ”€ ÄÄƒng kÃ½ tÃ i khoáº£n TrumVPS
  â”œâ”€ Chá»n gÃ³i Singapore 8GB
  â”œâ”€ Thanh toÃ¡n 3 thÃ¡ng (xin giáº£m giÃ¡ 5%)
  â””â”€ Äá»£i kÃ­ch hoáº¡t (check email)

â–¡ Day 2: Initial Setup
  â”œâ”€ SSH vÃ o VPS
  â”œâ”€ Update system
  â”œâ”€ Configure timezone
  â”œâ”€ Setup firewall
  â””â”€ Create swap

â–¡ Day 3: Install Dokploy
  â”œâ”€ Run install script
  â”œâ”€ Create admin account
  â”œâ”€ Configure custom domain
  â””â”€ Setup SSL

â–¡ Day 4-5: DNS & Database
  â”œâ”€ Configure Cloudflare DNS
  â”œâ”€ Create PostgreSQL in Dokploy
  â”œâ”€ Create Redis in Dokploy
  â””â”€ Test connectivity

â–¡ Day 6-7: GitHub Integration
  â”œâ”€ Connect GitHub to Dokploy
  â”œâ”€ Setup environment variables
  â”œâ”€ Test webhook
  â””â”€ Prepare for deployment

â–¡ Week 2: Production Deployment
  â”œâ”€ Deploy API
  â”œâ”€ Deploy Frontend
  â”œâ”€ Run migrations
  â”œâ”€ Load testing
  â””â”€ Go live! ğŸ‰
```

---

## âœ… Confirmation

**Quyáº¿t Ä‘á»‹nh cá»§a báº¡n:**
- âœ… VPS: TrumVPS Singapore 8GB (440k VND/mo)
- âœ… LÃ½ do: Support tiáº¿ng Viá»‡t + Latency tháº¥p cho VN users
- âœ… Chi phÃ­ 3 thÃ¡ng: ~1.4-1.5 triá»‡u VND
- âœ… Target: 1000 users

**So vá»›i plan Hetzner ban Ä‘áº§u:**
- Tráº£ thÃªm: +600k VND cho 3 thÃ¡ng
- Nháº­n Ä‘Æ°á»£c:
  - âš¡ Latency 5-7Ã— tá»‘t hÆ¡n (30-50ms vs 200-300ms)
  - ğŸ‡»ğŸ‡³ Support tiáº¿ng Viá»‡t
  - ğŸ’° Thanh toÃ¡n VND (tiá»‡n hÆ¡n)
  - ğŸ“ Server gáº§n VN (comply phÃ¡p luáº­t dá»… hÆ¡n)

**ÄÃ¡nh giÃ¡:** EXCELLENT CHOICE! ğŸ¯

---

**Báº¡n Ä‘Ã£ sáºµn sÃ ng báº¯t Ä‘áº§u chÆ°a?** 

TÃ´i cÃ³ thá»ƒ há»— trá»£:
1. âœ… Script tá»± Ä‘á»™ng setup VPS
2. âœ… Checklist chi tiáº¿t tá»«ng bÆ°á»›c
3. âœ… Troubleshooting guide
4. âœ… Video tutorial (náº¿u cáº§n)

**BÆ°á»›c káº¿ tiáº¿p:** Mua VPS â†’ Ping tÃ´i khi cÃ³ IP address â†’ TÃ´i guide setup! ğŸš€
