      [2mCoverage enabled with [22m[33mv8[39m
[90mstdout[2m | src/modules/simulation/market-simulation.service.spec.ts[2m > [22m[2mMarket Simulation Service - Comprehensive Test Suite[2m > [22m[2mMulti-Market Localization[2m > [22m[2mLong-Term Impact Calculations[2m > [22m[2mshould calculate future value with 8% annual return
[90mstdout[2m | src/modules/simulation/market-simulation.service.spec.ts[2m > [22m[2mMarket Simulation Service - Comprehensive Test Suite[2m > [22m[2mCommitment Device Market Scenarios[2m > [22m[2mEarly Withdrawal Penalties[2m > [22m[2mshould apply 10% penalty for early withdrawal
[90mstdout[2m | src/modules/simulation/scenario-generator.service.spec.ts[2m > [22m[2mSimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22m[2mScenario Generation Logic[2m > [22m[2mshould generate initial life scenario with AI
[90mstdout[2m | src/modules/simulation/scenario-generator.service.spec.ts[2m > [22m[2mSimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22m[2mScenario Generation Logic[2m > [22m[2mshould handle AI response with markdown code blocks
[90mstdout[2m | src/modules/simulation/scenario-generator.service.spec.ts[2m > [22m[2mSimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22m[2mScenario Generation Logic[2m > [22m[2mshould continue scenario based on previous choice
[90mstdout[2m | src/modules/simulation/scenario-generator.service.spec.ts[2m > [22m[2mSimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22m[2mScenario Generation Logic[2m > [22m[2mshould throw error for invalid choice
[90mstdout[2m | src/modules/simulation/scenario-generator.service.spec.ts[2m > [22m[2mSimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22m[2mScenario Generation Logic[2m > [22m[2mshould throw error for unauthorized scenario access
[90mstdout[2m | src/modules/simulation/scenario-generator.service.spec.ts[2m > [22m[2mSimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22m[2mScenario Generation Logic[2m > [22m[2mshould throw error when scenario does not exist
[90mstdout[2m | src/modules/simulation/scenario-generator.service.spec.ts[2m > [22m[2mSimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22m[2mDifficulty Scaling[2m > [22m[2mshould generate age-appropriate scenarios for young users
[90mstdout[2m | src/modules/simulation/scenario-generator.service.spec.ts[2m > [22m[2mSimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22m[2mDifficulty Scaling[2m > [22m[2mshould update user status based on choice impact
[90mstdout[2m | src/modules/simulation/scenario-generator.service.spec.ts[2m > [22m[2mSimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22m[2mDifficulty Scaling[2m > [22m[2mshould occasionally age the user
[90mstdout[2m | src/modules/simulation/scenario-generator.service.spec.ts[2m > [22m[2mSimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22m[2mLocalization (vi/en/zh)[2m > [22m[2mshould generate Vietnamese-localized scenario
[90mstdout[2m | src/modules/simulation/scenario-generator.service.spec.ts[2m > [22m[2mSimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22m[2mLocalization (vi/en/zh)[2m > [22m[2mshould generate English-localized scenario
[90mstdout[2m | src/modules/simulation/scenario-generator.service.spec.ts[2m > [22m[2mSimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22m[2mLocalization (vi/en/zh)[2m > [22m[2mshould generate Chinese-localized scenario
[90mstdout[2m | src/modules/simulation/scenario-generator.service.spec.ts[2m > [22m[2mSimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22m[2mLLM Response Mocking[2m > [22m[2mshould handle malformed JSON from LLM gracefully
[90mstdout[2m | src/modules/simulation/scenario-generator.service.spec.ts[2m > [22m[2mSimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22m[2mLLM Response Mocking[2m > [22m[2mshould parse JSON with extra whitespace
[90mstdout[2m | src/modules/simulation/scenario-generator.service.spec.ts[2m > [22m[2mSimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22m[2mLLM Response Mocking[2m > [22m[2mshould handle nested markdown code blocks
[90mstdout[2m | src/modules/simulation/scenario-generator.service.spec.ts[2m > [22m[2mSimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22m[2mLLM Response Mocking[2m > [22m[2mshould mock complex multi-choice scenarios
[90mstdout[2m | src/modules/simulation/scenario-generator.service.spec.ts[2m > [22m[2mSimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22m[2mJSONB Structure Validation[2m > [22m[2mshould validate initial status structure
[90mstdout[2m | src/modules/simulation/scenario-generator.service.spec.ts[2m > [22m[2mSimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22m[2mJSONB Structure Validation[2m > [22m[2mshould validate scenario event structure
[90mstdout[2m | src/modules/simulation/scenario-generator.service.spec.ts[2m > [22m[2mSimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22m[2mJSONB Structure Validation[2m > [22m[2mshould validate decisions array structure
[90mstdout[2m | src/modules/simulation/scenario-generator.service.spec.ts[2m > [22m[2mSimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22m[2mJSONB Structure Validation[2m > [22m[2mshould reject invalid JSONB structure
[90mstdout[2m | src/modules/simulation/scenario-generator.service.spec.ts[2m > [22m[2mSimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22m[2mJSONB Structure Validation[2m > [22m[2mshould preserve all required fields in status updates
[90mstdout[2m | src/modules/simulation/scenario-generator.service.spec.ts[2m > [22m[2mSimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22m[2mNudge Strategy Integration[2m > [22m[2mshould include loss aversion nudge in prompts
[90mstdout[2m | src/modules/simulation/scenario-generator.service.spec.ts[2m > [22m[2mSimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22m[2mNudge Strategy Integration[2m > [22m[2mshould include Hooked strategy trigger
[90mstdout[2m | src/modules/simulation/scenario-generator.service.spec.ts[2m > [22m[2mSimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22m[2mNudge Strategy Integration[2m > [22m[2mshould pass previous choice context to next event
[90mstdout[2m | src/modules/simulation/scenario-generator.service.spec.ts[2m > [22m[2mSimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22m[2mEdge Cases[2m > [22m[2mshould handle zero impact choices
[90mstdout[2m | src/modules/simulation/scenario-generator.service.spec.ts[2m > [22m[2mSimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22m[2mEdge Cases[2m > [22m[2mshould handle negative savings (debt)
[90mstdout[2m | src/modules/simulation/scenario-generator.service.spec.ts[2m > [22m[2mSimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22m[2mEdge Cases[2m > [22m[2mshould cap happiness at boundaries
[31m   [31mÃ—[31m SimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22mScenario Generation Logic[2m > [22mshould continue scenario based on previous choice[90m 16[2mms[22m[31m[39m
[90mstdout[2m | src/modules/nudge/commitment.service.spec.ts[2m > [22m[2mCommitmentService (via SimulationService)[2m > [22m[2mPenalty Calculation[2m > [22m[2mshould calculate 10% penalty for early withdrawal
[90mstdout[2m | src/modules/analytics/metrics.service.spec.ts[2m > [22m[2mMetricsService[2m > [22m[2mcalculateEngagement[2m > [22m[2mshould calculate 100% bounce rate when all sessions have 1 event
[90mstdout[2m | src/modules/nudge/social-proof.service.spec.ts[2m > [22m[2mSocialProofService[2m > [22m[2mgenerateCohortMessage - "X% of users like you"[2m > [22m[2mshould generate high-percentage cohort message for popular action
[90mstdout[2m | src/modules/nudge/social-proof.service.spec.ts[2m > [22m[2mSocialProofService[2m > [22m[2mgenerateCohortMessage - "X% of users like you"[2m > [22m[2mshould generate medium-priority message for moderate adoption
[90mstdout[2m | src/modules/nudge/social-proof.service.spec.ts[2m > [22m[2mSocialProofService[2m > [22m[2mgenerateCohortMessage - "X% of users like you"[2m > [22m[2mshould generate low-priority message for low adoption
[90mstdout[2m | src/modules/nudge/social-proof.service.spec.ts[2m > [22m[2mSocialProofService[2m > [22m[2mgenerateCohortMessage - "X% of users like you"[2m > [22m[2mshould return null if user not found
[90mstdout[2m | src/modules/nudge/social-proof.service.spec.ts[2m > [22m[2mSocialProofService[2m > [22m[2mgenerateCohortMessage - "X% of users like you"[2m > [22m[2mshould return null if cohort has zero users
[90mstdout[2m | src/modules/nudge/social-proof.service.spec.ts[2m > [22m[2mSocialProofService[2m > [22m[2mgenerateCohortMessage - "X% of users like you"[2m > [22m[2mshould handle action without targetId
[90mstdout[2m | src/modules/nudge/social-proof.service.spec.ts[2m > [22m[2mSocialProofService[2m > [22m[2mPriority calculation[2m > [22m[2mshould assign HIGH priority for >= 75%
[90mstdout[2m | src/modules/nudge/social-proof.service.spec.ts[2m > [22m[2mSocialProofService[2m > [22m[2mPriority calculation[2m > [22m[2mshould assign MEDIUM priority for 50-74%
[90mstdout[2m | src/modules/nudge/social-proof.service.spec.ts[2m > [22m[2mSocialProofService[2m > [22m[2mPriority calculation[2m > [22m[2mshould assign LOW priority for < 50%
[31m   [31mÃ—[31m SocialProofService[2m > [22mgenerateCohortMessage - "X% of users like you"[2m > [22mshould return null if cohort has zero users[90m 6[2mms[22m[31m[39m
[31m     â†’ expected '100% ngÆ°á»i dÃ¹ng Ä‘ang dáº«n trÆ°á»›c báº¡n vá»â€¦' to contain 'vÆ°á»£t trá»™i'[39m
[90mstdout[2m | src/modules/nudge/framing.service.spec.ts[2m > [22m[2mFramingService - Message Framing with Nudge Theory[2m > [22m[2mCoverage Edge Cases (85%+ Target)[2m > [22m[2mshould handle undefined userProfile in getDefaultFraming
[90mstdout[2m | src/modules/nudge/framing.service.spec.ts[2m > [22m[2mFramingService - Message Framing with Nudge Theory[2m > [22m[2mCoverage Edge Cases (85%+ Target)[2m > [22m[2mshould handle null params in generateFramedMessage
[90mstdout[2m | src/modules/nudge/framing.service.spec.ts[2m > [22m[2mFramingService - Message Framing with Nudge Theory[2m > [22m[2mCoverage Edge Cases (85%+ Target)[2m > [22m[2mshould correctly identify multiple loss context keywords
[90mstdout[2m | src/modules/nudge/framing.service.spec.ts[2m > [22m[2mFramingService - Message Framing with Nudge Theory[2m > [22m[2mCoverage Edge Cases (85%+ Target)[2m > [22m[2mshould generate consistent messages for same inputs
[90mstdout[2m | src/modules/nudge/framing.service.spec.ts[2m > [22m[2mFramingService - Message Framing with Nudge Theory[2m > [22m[2mCoverage Edge Cases (85%+ Target)[2m > [22m[2mshould handle concurrent framing requests
[31m   [31mÃ—[31m FramingService - Message Framing with Nudge Theory[2m > [22mCoverage Edge Cases (85%+ Target)[2m > [22mshould handle null params in generateFramedMessage[90m 1[2mms[22m[31m[39m
[31m   [31mÃ—[31m FramingService - Message Framing with Nudge Theory[2m > [22mCoverage Edge Cases (85%+ Target)[2m > [22mshould generate consistent messages for same inputs[90m 5[2mms[22m[31m[39m
[31m   [31mÃ—[31m FramingService - Message Framing with Nudge Theory[2m > [22mCoverage Edge Cases (85%+ Target)[2m > [22mshould handle concurrent framing requests[90m 2[2mms[22m[31m[39m
[90mstdout[2m | src/modules/analytics/heatmap.service.spec.ts[2m > [22m[2mHeatmapService[2m > [22m[2mtrackScrollDepth[2m > [22m[2mshould handle 100% scroll depth
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mgenerateStreakLossWarning[2m > [22m[2mshould return CRITICAL warning for high-value streak (>= 7 days) about to expire
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mgenerateStreakLossWarning[2m > [22m[2mshould return HIGH priority for low-value streak (< 7 days) about to expire
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mgenerateStreakLossWarning[2m > [22m[2mshould return null when streak is already expired (>24 hours)
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mgenerateStreakLossWarning[2m > [22m[2mshould return null when activity is too recent (<20 hours)
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mgenerateStreakLossWarning[2m > [22m[2mshould return null when user has no streak
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mgenerateStreakLossWarning[2m > [22m[2mshould return null when streak data does not exist
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mgenerateStreakLossWarning[2m > [22m[2mshould calculate hours remaining correctly at exact 20-hour mark
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mgenerateAboutToLoseNudge[2m > [22m[2mshould generate CRITICAL nudge when progress is 90%+
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mgenerateAboutToLoseNudge[2m > [22m[2mshould generate HIGH nudge when progress is 70-89%
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mgenerateAboutToLoseNudge[2m > [22m[2mshould return null when progress is below 70%
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mgenerateAboutToLoseNudge[2m > [22m[2mshould return null when progress is already 100%
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mgenerateAboutToLoseNudge[2m > [22m[2mshould handle edge case at exactly 70% threshold
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mgenerateAboutToLoseNudge[2m > [22m[2mshould handle multi-language goal names correctly
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mgenerateCommitmentContract[2m > [22m[2mshould generate commitment contract with penalty warning
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mgenerateCommitmentContract[2m > [22m[2mshould format large amounts correctly
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mgenerateCommitmentContract[2m > [22m[2mshould return null when user does not exist
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mgenerateCommitmentContract[2m > [22m[2mshould handle small amounts correctly
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mgenerateCommitmentContract[2m > [22m[2mshould include all three language translations
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mgenerateFramingNudge[2m > [22m[2mshould frame as LOSS with HIGH priority
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mgenerateFramingNudge[2m > [22m[2mshould frame as GAIN with MEDIUM priority
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mgenerateFramingNudge[2m > [22m[2mshould include inflation context in loss framing
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mgenerateFramingNudge[2m > [22m[2mshould emphasize action in gain framing
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mgenerateFramingNudge[2m > [22m[2mshould handle edge case with zero amount
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mcheckMultipleUsers[2m > [22m[2mshould process multiple users and return nudges for each
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mcheckMultipleUsers[2m > [22m[2mshould return empty arrays for users without warnings
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mcheckMultipleUsers[2m > [22m[2mshould handle empty user list
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mcheckMultipleUsers[2m > [22m[2mshould process users independently even if one fails
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mEdge Cases & Robustness[2m > [22m[2mshould handle future dates gracefully in streak calculation
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mEdge Cases & Robustness[2m > [22m[2mshould handle very large streak numbers
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mEdge Cases & Robustness[2m > [22m[2mshould handle progress percentage edge cases
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mEdge Cases & Robustness[2m > [22m[2mshould handle very small commitment amounts
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mEdge Cases & Robustness[2m > [22m[2mshould handle very large commitment durations
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mMessage Quality & Localization[2m > [22m[2mshould ensure all messages contain required emoji/icons
[90mstdout[2m | src/modules/nudge/loss-aversion.service.spec.ts[2m > [22m[2mLossAversionService (85%+ Coverage)[2m > [22m[2mMessage Quality & Localization[2m > [22m[2mshould ensure message consistency across all three languages
[90mstdout[2m | src/checklists/checklists.service.spec.ts[2m > [22m[2mChecklistsService[2m > [22m[2mupdateItem[2m > [22m[2mshould reward when 100% completed
[90mstdout[2m | src/checklists/checklists.service.spec.ts[2m > [22m[2mChecklistsService[2m > [22m[2mupdateItem[2m > [22m[2mshould not reward if already 100% completed before
[90mstdout[2m | src/checklists/checklists.service.spec.ts[2m > [22m[2mChecklistsService[2m > [22m[2mProgress calculation[2m > [22m[2mshould calculate 0% for all incomplete items
[90mstdout[2m | src/storage/storage.controller.spec.ts[2m > [22m[2mStorageController (C013)[2m > [22m[2mFile Size Limits[2m > [22m[2mshould accept files under 5MB
[90mstdout[2m | src/storage/storage.controller.spec.ts[2m > [22m[2mStorageController (C013)[2m > [22m[2mFile Size Limits[2m > [22m[2mshould accept files exactly at 5MB limit
[90mstdout[2m | src/storage/storage.controller.spec.ts[2m > [22m[2mStorageController (C013)[2m > [22m[2mFile Size Limits[2m > [22m[2mshould handle empty files
[90mstdout[2m | src/storage/storage.controller.spec.ts[2m > [22m[2mStorageController (C013)[2m > [22m[2mFile Size Limits[2m > [22m[2mshould handle large buffer efficiently
[90mstdout[2m | src/storage/storage.controller.spec.ts[2m > [22m[2mStorageController (C013)[2m > [22m[2mSpecial Characters in Filename[2m > [22m[2mshould handle spaces in filename
[90mstdout[2m | src/storage/storage.controller.spec.ts[2m > [22m[2mStorageController (C013)[2m > [22m[2mSpecial Characters in Filename[2m > [22m[2mshould handle unicode characters
[90mstdout[2m | src/storage/storage.controller.spec.ts[2m > [22m[2mStorageController (C013)[2m > [22m[2mSpecial Characters in Filename[2m > [22m[2mshould handle special characters
[90mstdout[2m | src/storage/unstorage.service.spec.ts[2m > [22m[2mUnstorageService[2m > [22m[2mFile Operations[2m > [22m[2mshould upload file successfully
[90mstdout[2m | src/storage/unstorage.service.spec.ts[2m > [22m[2mUnstorageService[2m > [22m[2mFile Operations[2m > [22m[2mshould download file successfully
[90mstdout[2m | src/storage/unstorage.service.spec.ts[2m > [22m[2mUnstorageService[2m > [22m[2mFile Operations[2m > [22m[2mshould throw error when downloading non-existent file
[31m[Nest] 7636  - [39m12/21/2025, 9:01:23 PM [31m  ERROR[39m [38;5;3m[UnstorageService] [39mError: File not found: missing.txt
    at UnstorageService.downloadFile [90m(C:\Users\luaho\Demo project\v-edfinance\apps\api\[39msrc\storage\unstorage.service.ts:118:15[90m)[39m
[90mstdout[2m | src/storage/unstorage.service.spec.ts[2m > [22m[2mUnstorageService[2m > [22m[2mFile Operations[2m > [22m[2mshould delete file successfully
[90mstdout[2m | src/storage/unstorage.service.spec.ts[2m > [22m[2mUnstorageService[2m > [22m[2mFile Operations[2m > [22m[2mshould check file existence
[90mstdout[2m | src/storage/unstorage.service.spec.ts[2m > [22m[2mUnstorageService[2m > [22m[2mFile Operations[2m > [22m[2mshould return false when file existence check fails
[90mstdout[2m | src/storage/storage.service.spec.ts[2m > [22m[2mStorageService[2m > [22m[2muploadFile[2m > [22m[2mshould upload file successfully
[90mstdout[2m | src/storage/storage.service.spec.ts[2m > [22m[2mStorageService[2m > [22m[2muploadFile[2m > [22m[2mshould throw error if upload fails
  File: [36mC:/Users/luaho/Demo project/v-edfinance/apps/api/src/users/users.service.spec.ts[39m
[31m[1m[7m FAIL [27m[22m[39m src/modules/nudge/framing.service.spec.ts[2m > [22mFramingService - Message Framing with Nudge Theory[2m > [22mCoverage Edge Cases (85%+ Target)[2m > [22mshould handle null params in generateFramedMessage
[31m[1m[7m FAIL [27m[22m[39m src/modules/nudge/framing.service.spec.ts[2m > [22mFramingService - Message Framing with Nudge Theory[2m > [22mCoverage Edge Cases (85%+ Target)[2m > [22mshould generate consistent messages for same inputs
[31m[1m[7m FAIL [27m[22m[39m src/modules/nudge/framing.service.spec.ts[2m > [22mFramingService - Message Framing with Nudge Theory[2m > [22mCoverage Edge Cases (85%+ Target)[2m > [22mshould handle concurrent framing requests
[31m[1m[7m FAIL [27m[22m[39m src/modules/nudge/social-proof.service.spec.ts[2m > [22mSocialProofService[2m > [22mgenerateCohortMessage - "X% of users like you"[2m > [22mshould return null if cohort has zero users
    "en": "0% of users like you have completed this course. Join them!",
    "vi": "0% ngÆ°á»i dÃ¹ng giá»‘ng báº¡n Ä‘Ã£ hoÃ n thÃ nh khÃ³a há»c nÃ y. Tham gia ngay!",
    "zh": "0% çš„åƒæ‚¨è¿™æ ·çš„ç”¨æˆ·å·²ç»å®Œæˆäº†è¿™é—¨è¯¾ç¨‹ã€‚ç«‹å³åŠ å…¥ï¼",
[31m[1mAssertionError[22m: expected '100% ngÆ°á»i dÃ¹ng Ä‘ang dáº«n trÆ°á»›c báº¡n vá»â€¦' to contain 'vÆ°á»£t trá»™i'[39m
Received: [31m"100% ngÆ°á»i dÃ¹ng Ä‘ang dáº«n trÆ°á»›c báº¡n vá» há»c táº­p. HÃ£y báº¯t ká»‹p há»!"[39m
[31m[1m[7m FAIL [27m[22m[39m src/modules/simulation/scenario-generator.service.spec.ts[2m > [22mSimulationService - AI Scenario Generation (90%+ Coverage)[2m > [22mScenario Generation Logic[2m > [22mshould continue scenario based on previous choice
[2m Test Files [22m [1m[31m49 failed[39m[22m[2m | [22m[1m[32m68 passed[39m[22m[90m (117)[39m
