# ========================================
# Storage Configuration
# ========================================

# Storage driver: 'fs' (local), 'gcs' (Google Cloud), 'r2' (Cloudflare R2)
STORAGE_DRIVER=r2

# Local filesystem storage (for development)
STORAGE_FS_BASE=./uploads

# ========================================
# Cloudflare R2 Configuration
# ========================================

# R2 Account ID (from Cloudflare dashboard URL)
R2_ACCOUNT_ID=your-account-id-here

# R2 Bucket name
R2_BUCKET_NAME=vedfinance-prod

# R2 API Credentials (from "Manage R2 API Tokens")
R2_ACCESS_KEY_ID=your-access-key-id-here
R2_SECRET_ACCESS_KEY=your-secret-access-key-here

# R2 Public URL (Public Development URL or custom domain)
R2_PUBLIC_URL=https://pub-xxx.r2.dev/vedfinance-prod

# R2 S3-compatible endpoint
R2_ENDPOINT=https://your-account-id.r2.cloudflarestorage.com

# ========================================
# Google Cloud Storage (Optional - for backups)
# ========================================

# GCS_BUCKET_URL=https://storage.googleapis.com/your-bucket
# GCS_ACCESS_TOKEN=your-gcs-token
# GCS_PUBLIC_URL=https://storage.googleapis.com/your-bucket

# ========================================
# Database Configuration
# ========================================

# Connection pool size: 20 (optimized for production workload)
# Format: postgresql://user:password@host:port/database?connection_limit=20&pool_timeout=30
DATABASE_URL=postgresql://user:password@localhost:5432/v_edfinance?connection_limit=20&pool_timeout=30

# ========================================
# JWT Configuration (CRITICAL - Security)
# ========================================

# JWT Secret - MUST be changed in production!
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# V-SEC-001: This MUST be set - application will fail to start without it
JWT_SECRET=CHANGE-THIS-IMMEDIATELY-USE-GENERATED-SECRET-FROM-COMMAND-ABOVE

# JWT Refresh Token Secret (different from JWT_SECRET)
JWT_REFRESH_SECRET=CHANGE-THIS-IMMEDIATELY-USE-DIFFERENT-GENERATED-SECRET

# Token expiration (access token)
JWT_EXPIRES_IN=15m

# ========================================
# API Keys
# ========================================

GEMINI_API_KEY=your-gemini-api-key-here

# YouTube Data API v3 Key (for video metadata fetching)
# Get from: https://console.cloud.google.com/apis/credentials
# Enable YouTube Data API v3: https://console.cloud.google.com/apis/library/youtube.googleapis.com
# Quota: 10,000 units/day (1 video metadata fetch = 1 unit)
YOUTUBE_API_KEY=your-youtube-api-key-here

# ========================================
# Stripe Payment Configuration
# ========================================

# Stripe Secret Key (from Stripe Dashboard > Developers > API Keys)
# Test mode: starts with sk_test_
# Live mode: starts with sk_live_
STRIPE_SECRET_KEY=sk_test_your-secret-key-here

# Stripe Publishable Key (used in frontend)
# Test mode: starts with pk_test_
# Live mode: starts with pk_live_
STRIPE_PUBLISHABLE_KEY=pk_test_your-publishable-key-here

# Stripe Webhook Secret (from Stripe Dashboard > Developers > Webhooks)
# Used to verify webhook signatures
# Starts with whsec_
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret-here

# Stripe Currency (default: vnd for Vietnamese Dong)
STRIPE_CURRENCY=vnd
